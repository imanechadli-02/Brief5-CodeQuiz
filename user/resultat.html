<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Résultats du Quiz</title>
    <style>
        body {
            background-color: #A6FFBB;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5vw;
        }

        h1,
        div {
            color: black;
            font-family: "Itim", cursive;
            font-weight: 400;
            font-style: normal;
            font-size: 4vw;
        }

        .score {
            background-color: #01E5B4;
            width: 26vw;
            height: 26vw;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .score div {
            color: white;
            font-size: 10vw;
        }

        #btn {
            width: 20vw;
            background-color: #084538;
            color: white;
            font-family: "Itim", cursive;
            font-weight: 400;
            font-size: 30px;
            border-radius: 12px;
        }

        .revision {
            font-size: 3vw;
            text-align: center;
            color: black;
        }

        .correct-answer {
            color: #4CAF50;
        }

        .incorrect-answer {
            color: #F44336;
        }

        .question {
            font-size: 2vw;
            margin-top: 2vw;
        }

        .answer {
            font-size: 2vw;
            margin: 1vw 0;
        }
    </style>
</head>

<body>
    <h1>Votre Résultat</h1>
    <div>SCORE</div>
    <div class="score" id="scoreContainer">
        <div>90%</div>
    </div>
    <div class="revision" id="revisionMessage">
        Quiz complété avec succès
    </div>

    <div id="revisionContainer"></div>

    <button id="btn" onclick="goHome()">Retour à l'accueil</button>

    <script>
        // Récupérer les résultats du quiz depuis localStorage
        const quizResults = JSON.parse(localStorage.getItem('quizResults'));

        if (quizResults) {
            // Afficher le score
            const scorePercentage = Math.round((quizResults.score / quizResults.totalQuestions) * 100);
            document.getElementById('scoreContainer').innerHTML = `<div>${scorePercentage}%</div>`;

            // Afficher le message de révision si nécessaire
            const revisionContainer = document.getElementById('revisionContainer');
            quizResults.questions.forEach(q => {
                const questionDiv = document.createElement('div');
                questionDiv.classList.add('question');
                questionDiv.innerHTML = `<b>${q.question}</b>`;

                const userAnswerDiv = document.createElement('div');
                userAnswerDiv.classList.add('answer');
                userAnswerDiv.innerHTML = `<i>Votre réponse :</i> <span class="${q.isCorrect ? 'correct-answer' : 'incorrect-answer'}">${q.userAnswer}</span>`;

                const correctAnswerDiv = document.createElement('div');
                correctAnswerDiv.classList.add('answer');
                correctAnswerDiv.innerHTML = `<i>Bonne réponse :</i> <span class="correct-answer">${q.correctAnswer}</span>`;

                questionDiv.appendChild(userAnswerDiv);
                questionDiv.appendChild(correctAnswerDiv);

                revisionContainer.appendChild(questionDiv);
            });
        } else {
            alert("Aucun résultat trouvé.");
        }

        function goHome() {
            window.location.href = "../index.html"; // Rediriger vers la page d'accueil
        }
    </script>
</body>

</html>
